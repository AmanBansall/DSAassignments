/*
 * Lab 8, Question 1: BST Traversals (Recursive)
 */
#include <iostream>

using namespace std;

// --- Basic Node and Insert (from above) ---

struct Node {
    int data;
    Node* left;
    Node* right;
    Node(int val) {
        data = val;
        left = NULL;
        right = NULL;
    }
};

Node* insert(Node* root, int val) {
    if (root == NULL) {
        return new Node(val);
    }
    if (val < root->data) {
        root->left = insert(root->left, val);
    } else if (val > root->data) {
        root->right = insert(root->right, val);
    }
    return root;
}

void deleteTree(Node* root) {
    if (root == NULL) return;
    deleteTree(root->left);
    deleteTree(root->right);
    delete root;
}

// --- Traversal Functions ---

/**
 * Pre-order Traversal (Root -> Left -> Right)
 */
void preOrder(Node* root) {
    if (root == NULL) {
        return;
    }
    cout << root->data << " "; // Visit Root
    preOrder(root->left);      // Visit Left Subtree
    preOrder(root->right);     // Visit Right Subtree
}

/**
 * In-order Traversal (Left -> Root -> Right)
 * For a BST, this will print the nodes in sorted order.
 */
void inOrder(Node* root) {
    if (root == NULL) {
        return;
    }
    inOrder(root->left);       // Visit Left Subtree
    cout << root->data << " "; // Visit Root
    inOrder(root->right);      // Visit Right Subtree
}

/**
 * Post-order Traversal (Left -> Right -> Root)
 */
void postOrder(Node* root) {
    if (root == NULL) {
        return;
    }
    postOrder(root->left);     // Visit Left Subtree
    postOrder(root->right);    // Visit Right Subtree
    cout << root->data << " "; // Visit Root
}


// --- Main Function to Test ---
int main() {
    Node* root = NULL;
    root = insert(root, 50);
    insert(root, 30);
    insert(root, 70);
    insert(root, 20);
    insert(root, 40);
    insert(root, 60);
    insert(root, 80);

    // 
    cout << "Binary Search Tree built." << endl;

    cout << "Pre-order Traversal: ";
    preOrder(root);
    cout << endl;

    cout << "In-order Traversal:  ";
    inOrder(root);
    cout << endl;

    cout << "Post-order Traversal: ";
    postOrder(root);
    cout << endl;

    // Clean up memory
    deleteTree(root);
    
    return 0;
}
